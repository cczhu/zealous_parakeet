\section{Code and Input Physics}
\label{sec:c2_gasoline}

We simulate the mergers by placing non-rotating white dwarfs in a circular orbit with an initial separation {\azero} chosen such that rapid mass transfer begins immediately.  We then follow the merger for six orbits, at which time the remnant has become approximately axisymmetric.  As in prior work, the morphology of all merger remnants is similar, consisting of a dense, primarily degeneracy-supported center surrounded by a partly thermally-supported hot envelope (called a ``corona'' by \citeal{loreig09}) and a thick, sub-Keplerian disk.  We will use the terms ``core'', ``envelope'' and ``disk'' throughout this work.  We also quite often refer to both the core and envelope simultaneously as the ``core-envelope''.

We use simulation techniques and initial conditions that are standard in the field of WD merger simulations, both in order to compare with previous work, as well as to not introduce novel numerical effects into our simulations.  We detail our code and initial conditions below so that they can easily be reproduced.

\subsection{The SPH Code}
\label{ssec:c2_sphcode}

With smoothed-particle hydrodynamics, one uses particles as a set of interpolation points to determine continuum values of the fluid and model its dynamics.  SPH is a Lagrangian method, meaning movement is automatically tracked, and regions of high density contain more particles and therefore are automatically more resolved.  Moreover, SPH inherently conserves angular momentum in three dimensions, which is difficult to reproduce in grid codes except under specific coordinate systems and symmetries.  SPH therefore allows one to efficiently simulate complex phenomena with a large range of lengthscales.  It has become the method of choice for merger simulations, and so we chose it as well.

%In contrast, grid-based methods model bulk movement through numerically diffusive cell-to-cell transfer, and require adaptive meshes to follow density contrasts (difficult to implement for merging stars, where high density regions are constantly moving).

For our simulations, we use Gasoline \citep{wadssq04}, a modular tree-based SPH code that was designed and has been used for a wide range of astrophysical scenarios, from galaxy interactions to planet formation.  It aims for tight controls on force accuracy and integration errors.  Gasoline implements the \cite{hernk89} kernel -- we use 100 neighbors -- and uses the asymmetric energy formulation (\citealt{wadssq04}, Eqn. 8) to evolve particle internal energy.  In our simulations, total energy is on average conserved to 0.3\%, and angular momentum to 0.006\%.

By default, Gasoline uses the usual Monaghan and Gingold formulation for artificial viscosity (see \citealt{mona05}), together with a Balsara switch (a standard feature of WD merger SPH simulations) to reduce viscosity in non-shocking, shearing flows.  \cite{guerig04} found that such a prescription did not reduce viscosity sufficiently, resulting in excess spin-up of the remnant core and associated shear heating.  \cite{yoonpr07}, in addition to a Balsara switch, used variable coefficients for the linear and quadratic viscosity terms in the SPH equations of motion and energy, setting these values to $\alpha\,=0.05$ and $\beta\,=0.1$, respectively, where shocks are absent, and around unity where they are present.  A similar formulation was used in \cite{dan+11,dan+12}.  Since Gasoline includes it as well, we have used it for our study.  Excess viscosity nevertheless remains a potential problem;  we investigate its effects further in Sec.~\ref{ssec:c2_viscprescrip}.

We modified Gasoline to include support for degenerate gas through the Helmholtz equation of state (EOS)\footnote{Available at \url{http://cococubed.asu.edu/} .} \citep{timms00}.  This code, also used in \cite{rask+12} and \cite{dan+12}'s simulations, interpolates the Helmholtz free energy of the electron-positron plasma, along with analytical expressions for ions and photons, to determine pressure, energy and other properties from density and temperature.  It is fast, spans a large range of density and temperature, and has, by construction, perfect thermodynamic consistency.  To obtain quantities as a function of density and internal energy, we utilized a Newton-Raphson inverter.  To keep the energy-temperature relation {\charles monotonic}, we did not disable Coulomb corrections in cases where total entropy became negative.

%To obtain quantities as a function of density and internal energy, we utilized a Newton-Raphson inverter, disabling Coulomb corrections to keep the energy-temperature relation positive-definite.

Gasoline keeps track of the {\charles specific} internal energy of particles, using it to determine other thermodynamic properties for fluid evolution.  A particle's energy will naturally fluctuate due to noise, but for nearly zero-temperature particles this could result in their energy dipping below the Fermi energy.  In such situations we keep the pressure at the Fermi pressure, while letting the energy freely evolve.  A consequence of the floor is that a small amount of excess energy is injected into the system through mechanical work, which eventually manifests as additional thermal energy.  The accumulated energy over a simulation is typically a small fraction of the internal energy, and therefore does not significantly affect the dynamics of the merger or most properties of the remnant.  In cold, degeneracy-dominated material, however, a small change in internal energy corresponds to a large temperature change, at times comparable to the physically expected values, and thus the temperatures near the centers of some of our simulations have been affected.  We characterize this spurious heating in Sec.~\ref{ssec:c2_spheat} and show that it does not unduly affect our work's conclusions.  However, it makes it difficult to run much longer simulations.

We also place an energy floor at half the Fermi energy.  This is to prevent particle energies from approaching zero (and consequently calling for tiny timesteps), which under rare circumstances occurs when particles perform a great deal of mechanical work.  We find this happens primarily for particles that are flung out of the system by the merger and are cooling rapidly, and therefore are confident it has only a very minor effect on our simulations.

%%%%%%%%%%%%%%%%%%%%%%%%%VS 2%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%A problem we encountered in modeling degenerate material is that a particle's energy can drift below the Fermi energy due to a ubiquitous noise source in SPH simulations: particles moving randomly at a small fraction of the speed of sound (e.g., \citealt{spri10rev}).  To prevent pressure from becoming unphysical, we do not let it decrease below its zero-temperature value.  We leave the internal energy as is to maintain energy conservation, except we do not let it decrease below half the Fermi energy.  The latter is to prevent particle energies from reaching below zero, which under rare circumstances appears to happen when particles perform a great deal of mechanical work.  We found this occurs primarily for particles that are flung out of the system by the merger and are cooling rapidly, and therefore are confident it has only a very minor effect on our simulations.

%A consequence of this pressure and energy floor is that a small amount of additional energy is injected into the system, which eventually manifests as additional thermal energy.  This spurious thermal energy is typically a small fraction of the internal energy, but since in our systems degeneracy pressure dominates, the small fraction correspond to a large temperature change, at times comparable to the physically expected values.  We characterize this ``spurious heating'' in Sec.~\ref{ssec:c2_spheat} and show that it does not unduly affect our work's conclusions.  However, it makes it difficult to run much longer simulations.

%%%%%%%%%%%%%%%%%%%%%%%%%VS 1%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\footnote{Coulomb corrections are important only at high density and low temperature, and their removal would have very minor effects for our work.}

%A problem we encountered in modeling degenerate material is that it is affected much more strongly by a ubiquitous noise source in SPH simulations: particles moving randomly at a small fraction of the speed of sound (e.g., \citealt{spri10rev}).  Artificial viscosity helps damp this noise, but generates corresponding thermal energy.  This spurious thermal energy is typically a small fraction of the internal energy, and therefore if the pressure support is predominantly from thermal pressure changes to the temperature are negligible.  In our systems, however, degeneracy pressure dominates, and the small changes in internal energy correspond to large temperature changes, at times comparable to the physically expected values.  We characterize this ``spurious heating'' in Sec.~\ref{ssec:c2_spheat} and show that it does not unduly affect our work's conclusions.  However, it makes it difficult to run much longer simulations.

%because density and energy in Gasoline are not updated simultaneously

%Another issue we encountered is that a particle's energy can drift below the Fermi energy.  To prevent pressure from becoming unphysical, we do not let it decrease below its zero-temperature value.  We leave the energy as is to maintain energy conservation, except we do not let it decrease below half the Fermi energy.  The latter is to prevent particle energies from reaching below zero, which under rare circumstances appears to happen when particles perform a great deal of mechanical work.  We found this occurs primarily for particles that are flung out of the system by the merger and are cooling rapidly, and therefore are confident it has only a very minor effect on our simulations.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%partly because we hoped our simulations could guide analytical understanding of mergers, and hence we wanted to avoid complications, and also

In our work, we ignore outer hydrogen and helium layers, composition gradients, and any nuclear reactions.  This is mainly because previous work has found that nuclear processing was unimportant during the merger.  For instance, \citetalias{loreig09} found fusion released $\sim\!10^{41}$ erg for their 0.6 - 0.8 {\Msun} merger, orders of magnitude smaller than the $\sim\!10^{50}\,$erg binding energy of the remnant.  Only for mergers involving very massive, $\gtrsim\!0.9\,M_\odot$ WDs might this assumption break down, with the possibility of carbon detonations arising (\citealt{pakm+10,pakm+11,pakm+12}; but see \citealt{rask+12,dan+12}).  Similarly, \cite{rask+12}, who included standard helium envelopes of $\sim\!1-2$\% of the WD mass in their simulations, found that only for accretors with masses above $\sim\!1\,\Msun$ did it make a substantial difference: a helium detonation would inject $\sim\!10^{49}\,$erg into the merger remnant.  While this led to additional heating, it was insufficient to trigger much carbon burning or unbind any portion of the remnant (helium detonations have also been found for lower-mass accretors with CO-He hybrid donors; \citealt{dan+12}).

%As previous works \citep{guerig04,yoonpr07,loreig09} have discussed, most CO WD mergers do not experience nuclear runaways during the course of the merger.  While some nuclear processing occurs, the timescale associated with the heating is far longer than the merger timescale, which is typically a few dynamical times \citep{guerig04,loreig09}. Only the most massive mergers can experience nuclear burning on merger timescales.  In these cases, detonations are triggered in the helium atmospheres of the merging WDs or in the carbon interior if the merger is sufficiently violent.  For instance, \citeauthor{rask+12} showed that, for a 0.96 - 1.06 {\Msun} merger, the He detonation burns the majority of surface He in the merging WDs, and injects some $10^{49}$ erg into the merger.  However, this was not sufficiently energetic to trigger significant carbon burning or unbind the star.  In another study of surface He detonations, \citeauthor{dan+12} have found potential He surface detonations for a large range of accretors provided that the donor has a thick He shell and a total mass greater than $\sim 45$ {\Msun} {\bf CHARLES: CHECK THIS NUMBER}.  Only the most massive mergers ($M_\mathrm{tot}\,\gtrsim\,1.8$ {\Msun}) may experience carbon detonations \citep{pakm+10,pakm+11,pakm+12}.  However these detonations occur while the WD has not yet dynamically relax and retains it initial central density.  The resulting detonation usually does not produce sufficient iron group elements and produces a subluminous SN Ia.  Only for the most massive system does a normal SN Ia result.  Because the primary aim of this study is to consider the parameter space of WD mergers as a whole, the majority of which do not experience nuclear burning, we will assume that none of the systems we consider detonate during the merger.

%\citet{pakm+10,pakm+11,pakm+12} found carbon detonations occurring during (rather than after) the merger of nearly equal mass WD pairs with total mass $\gtrsim\,1.8$ {\Msun}.  These detonations occur while the WD has not yet dynamically relaxed and therefore retains its initial central density.  They therefore do not produce sufficient iron group elements and resemble subluminous SNe Ia.  Only for the most massive systems does a normal SN Ia result.  Moreover, whether or not conditions for detonation are actually reached in these simulations is controversial (see discussion in \citeauthor{rask+12} and \citealt{dan+12}).  In ignoring nuclear reactions, we proceed with the possibility that the most massive mergers in our parameter space may be too cold and degenerate, or may have already exploded.

\subsection{Initial Conditions}
\label{ssec:c2_initcond}

We created spherical white dwarfs using pre-relaxed cells of particles rescaled to follow the appropriate enclosed mass-radius relation determined using the Helmholtz equation of state.  We assumed a composition of 50\% carbon and 50\% oxygen by mass, and a uniform temperature of~$5\times10^6\,$K.  The stars were then relaxed in Gasoline for 81 s ($\sim$10 - 40 dynamical times, depending on the white dwarf mass) with thermal energy and motion damped (to~$5\times10^6\,$K and 0 cm s$^{-1}$, respectively) during the first 41 s, and left free during the remaining 40 s.  Particle energy noise prevented cooling of $\gtrsim\,5\times10^6\,\gcc$ material to below $10^7$ K.  We checked that the density profile of each star after relaxation was consistent with the solution from hydrostatic equilibrium, and found this was the case -- central densities, for example, agreed to within 2\%.  The radii of the relaxed stars, as defined by the outermost particle of a relaxed WD, on the other hand were on average about 7\% too small, reflecting our inability to model the tenuous WD outer layers\footnote{Our relaxed WDs also show evidence of sub-kernel radial banding of particles, which does not appear in any interpolated quantities.  We do not believe this banding has an effect on our simulations except for a possible reduction in effective resolution, but will investigate remedies in future work.}.

We used a constant particle mass of $10^{28}\,$g, so that a $0.4\,\Msun$ WD has $8\times10^4$ particles, and a $1.0\,\Msun$ WD has $2\times10^5$.  These numbers are similar to those used by \citetalias{loreig09} and \cite{yoonpr07}, and exceed the $\sim2\times10^4$ particles per star used by \cite{dan+12}. \cite{rask+12} performed a resolution test for a merger of two $0.81\,\Msun$ WDs, varying the number of particles per star from $10^5$ to $2\times10^6$.  They found differences of $\sim\!2\%$ in the mass of the core plus envelope, disk half-mass radius, and inner disk rotation frequency.  The one qualitative difference they found was that at their highest particle resolution, the WDs failed to break symmetry and disrupt (note that they assumed co-rotating WDs, making such a stable contact configuration possible).  We perform our own test in Sec.~\ref{ssec:c2_restest} and find similar results.

We relaxed 0.4, 0.5, 0.55, 0.6, 0.65, 0.7, 0.8, 0.9 and 1.0 {\Msun} white dwarfs, and combined them in all possible permutations to form our parameter space of binaries.  These values were chosen to represent the range of possible CO WD masses, with greater resolution near the empirical peak at $\sim\!0.65\,\Msun$ of the mass distribution of (single) CO WDs \citep{tremb09}.  We also performed additional simulations with 0.575 - 0.65, 0.625 - 0.65 and 0.64 - 0.65$\,\Msun$ binaries to explore the outcomes of similar-mass mergers.  We thus simulated 48 mergers in total.

We placed two relaxed, irrotational WDs in a circular orbit.  We chose the initial separation {\azero} such that the donor WD just fills its Roche lobe, taking the location of the donor's outermost particle as its radius and using the Roche lobe approximation (for a synchronized binary) from \citet{eggl83}.  

This simple initial condition is similar to that of \cite{pakm+10}, and implies that the binary system as a whole is not equilibrated.  Therefore, as the simulation begins, the two WDs react to the tides, become stretched, and strong Roche lobe overflow ensues because the donor overshoots its Roche radius (in a widely separated binary, the donor would start to pulsate).  As a result, the donor disrupts after just one to two orbits.  For synchronized binaries, \cite{dan+11} showed that the onset of mass transfer is much more gentle if the WDs are relaxed in the binary potential, disruption occurring only after several dozen orbital periods.  They also showed that this results in systematic changes in the merger remnants.  It is not clear whether the same will hold for unsynchronized binaries, since the accretion stream hits a surface that, in its frame, counterrotates, and therefore accretion is always much less gentle than for synchronized WDs.  The difference is particularly dramatic for similar-mass binaries, where, in the synchronized case, the WDs can come into gentle contact, while in the unsynchronized case, any contact is violent.  Unfortunately, it is difficult to test the effect of proper equilibration for unsynchronized binaries, since one has to relax to non-trivial initial conditions.  A better approximation was attempted by \citeal{loreig09} and \cite{guerig04}, who started their WDs farther out and reduced the separation artificially until mass transfer began.  In their simulations, disruption still followed very quickly.  Given that, and wanting to avoid any partial synchronization, we kept our simpler setup, and tested it by running simulations with varying~{\azero}.  We will discuss these tests in Sec.~\ref{ssec:c2_varyingazero} and compare our results with those of others in Sec.~\ref{sec:c2_compwithothers}.

\subsection{Merger Completion Time}
\label{ssec:c2_mergercomplete}

It is difficult to decide when a merger is ``complete'', since for some cases remnant properties continue to evolve long after the two WDs coalesce, with (artificial) viscosity redistributing angular momentum and heating the remnant.  As a visually inspired criterion, we decided initially to use the degree of non-axisymmetry, continuing simulations until they were less than 2.5\% non-axisymmetric, as measured from the ratio of zeroth to largest non-zero Fourier coefficient of particles binned in azimuth.  However, this had its own issues: in dissimilar-mass mergers --  where most of the particles are in the accretor, already roughly axisymmetric following the merger -- our convergence criterion was achieved while the outer disk was still obviously non-axisymmetric.  In equal-mass mergers, which are inherently more axisymmetric, completion also was too soon, before the densest material had reached the center of the remnant.

For the majority of our systems, however, the time required to reach 2.5\% non-axisymmetry was roughly constant in units of the initial orbital period, at $6.1\pm1.2$.  For about the same time, axisymmetry was also achieved (by subjective visual inspection) for both dissimilar-mass mergers (except, in extreme dissimilar-mass cases, the outermost regions of their disks) and for equal-mass mergers (where the densest material had reached the center).  We therefore use 6 orbital periods of the initial binary as the completion time of our simulations.  In Sec.~\ref{ssec:c2_runninglonger}, we discuss the effect of continuing our simulations for 2 further orbital periods.
